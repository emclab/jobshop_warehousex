<% if @view_in_config && @erb_code %>
  <%= render inline: ERB.new(@erb_code).result(binding) %>
  
<% else %>
<%= simple_form_for @item do |f| %>    

  <%= f.input :purchase_order_id, :label => t("PO#"), :readonly => true, :input_html => {:value => @purchase_order.id} %> 
  <%= f.input :supplier_name, :label => t('Supplier'), :readonly => true, :input_html => {:value => @purchase_order.supplier.name} %>
  <%= f.input :unit_price, :label => t("Unit Price($)"), :readonly => true, :input_html => {:value => @purchase_order.try(:unit_price)} %> 
  <%= f.input :name, :label => t("Item Name"), :readonly => readonly?(@item, 'name')%>
  <%= f.input :spec, :label => t("Spec"), :readonly => readonly?(@item, 'spec') %>
  <%= f.input :in_date, :label => t("In Date"), :as => :string %> 
  <%= f.input :in_qty, :label => t("In Qty"), :readonly => readonly?(@item, 'in_qty') %>
  <%= f.input :unit, :label => t("Unit"), :readonly => true, :input_html => {:value => @purchase_order.try(:unit)} %>  
  <%= f.input :storage_location, :label => t("Storage Location"), :readonly => readonly?(@item, 'storage_location') %> 
  <%= f.input :inspection, :label => t("Inspection"), :input_html => {:rows => 4}, :readonly => readonly?(@item, 'inspection') %> 
  <% if readonly?(@item, 'rejected')%>
     <%= f.input :rejected_noupdate, :label => t('Rejected'), :readonly => true, :required => false, :input_html => {:value => @item.rejected} %>
  <% else %>
     <%= f.input :rejected, :label => t('Rejected'), :as => :boolean %>
  <% end %>
  
  <%= link_to t('Back'), SUBURI + "/authentify/view_handler?index=0", :class => BUTTONS_CLS['action'] %>
  <%= f.button :submit, t('Save') %>  
<% end %>

<% end %>
